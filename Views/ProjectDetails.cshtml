@inherits Umbraco.Web.Mvc.UmbracoTemplatePage
@{
    Layout = "Master.cshtml";
}
@section Css
             {
    @Styles.Render("/css/projects.css")
    @*@Styles.Render("/css/project-details.css")*@
}
@{ var selection = CurrentPage.Children.Where("Visible");
 var media = Umbraco.Media(CurrentPage.image); }

    <div id="st-accordion" class="st-accordion">
        <ul>
            <li class="openSlide" id="firstSlide" style="width: 1354px; background-image: url('@(media.Url)'); display: block; background-size: cover;">
                <div class="st-content"></div>
					<div id="arrowDown" class="bounce animateda"><div class="downScroll"></div></div>
            </li><!--<span id=""></span>-->
            @{int i = 0;
            foreach (var item in selection)
            {
                if (item.DocumentTypeAlias == "content")
                {
                    if (i == 0)
                    {

                        <li id="arrowTarget" class="">
                            <a href="">@item.Name<span class="st-arrow">&nbsp;</span></a>
                            <div class="st-content">
                                @item.GetGridHtml("content")
                            </div>
                        </li>
                    }
                    else
                    {


                        <li  class="">
                            <a href="">@item.Name<span class="st-arrow">&nbsp;</span></a>
                            <div class="st-content">
                                @item.GetGridHtml("content")
                            </div>
                        </li>
                    }

                }
                else if (item.DocumentTypeAlias == "imageGallery")
                {
                    <li id="">
                        <a href="#" id="imageGallery">@item.Name<span class="st-arrow">&nbsp;</span></a>
                        <div class="st-content" style="">
							<div class="flexslider" id="desktopSlider">
                            <ul class="slides">
                                @foreach (var imageId in item.imageGallery.Split(','))
                                {
                                    var image = Umbraco.Media(imageId);
                                    <li style="background-image:url(@image.Url)"></li>
                                }
                            </ul>
                        </div>
                        
                            <div class="flexslider" id="mobileSlider">
                                <ul class="slides">
                                    @foreach (var imageId in item.imageGallery.Split(','))
                                    {
                                        var image = Umbraco.Media(imageId);
                                        <li><img src="@image.Url" /></li>
                                    }
                                </ul>
                            </div>
                        </div>
                    </li>

                }
                else if (item.DocumentTypeAlias == "video")
                {
                    <li id="videoAccor">
                        <a href="">Videos<span class="st-arrow">&nbsp;</span></a>
                        <div class="st-content" style="display: block;">
                            <iframe id="video" width="560" height="315" src="@item.videoLink" frameborder="0" allowfullscreen=""></iframe>
                        </div>
                    </li>
                }
                
                
               i++;
            }
            }
        </ul>
    </div> 
    @section Scripts
             {
        @Scripts.Render("/scripts/jquery.flexslider.js")
        @Scripts.Render("/scripts/jquery.accordion.js")
        @Scripts.Render("/scripts/jquery.easing.1.3.js")
        @Scripts.Render("/scripts/project-flexslider.js")
		
		
    }
<style>#ldCloud{opacity:0}

				
				.st-accordion ul li > a span{
					/*visibility:hidden;*/
				}
                body,html{height:auto !important;}
                .st-accordion ul li ul li, .st-accordion ul li ul li > a{ background-color:transparent !important;}
                .st-accordion ul li > a{}
			
</style>
	    

    <script>
$(document).ready(function () {
    $wh = $(window).height();
    $ww = $(window).width();
    $winw = $(window).innerWidth();
    //$('.flex-viewport, .slides li').css({ 'width': '100%', 'height': $nwh - 160, 'position': 'relative', 'border': '0', 'background-size': 'cover', 'background-position': 'center center' });
});
    </script>

